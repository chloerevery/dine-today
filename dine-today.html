<head>
  <title>dine-today</title>

  <!-- <link href="css/bootstrap.min.css" rel="stylesheet"> -->

</head>
<body>
  <div class="text-center white container col-md-4 col-md-offset-4 col-sm-4 col-sm-offset-4 col-xs-8 col-xs-offset-2">
  <br>
  <img class="img-responsive" src="http://i.imgur.com/8CeQpO2.png"/>
  <br>
  
  {{#if currentUser}}

  {{#if isRestaurant}}
    {{> signUpRestaurant}}
    {{> postdeal}}
    {{> viewTakenDeals}}
  {{/if}}
  {{#if isCustomer}}
    {{> signUpDiner}}
    {{> dealsList}}
    {{> viewMyReservations}}
  {{/if}}
  {{#if isManager}}
    {{> adviewTakenDeals}}
  {{/if}}
  <br>
  


<div id="signUp"> 
{{#if hasSignedUp}}
{{else}}
  {{> signUp}}
{{/if}}
</div>



  
  <div id="myReservations" class="hidden">
    {{> myReservations}}
  </div>
  <div id="takenDeals" class="hidden">
    {{> takenDeals}}
  </div>

  <div id="adtakenDeals" class="hidden">
    {{> adtakenDeals}}
  </div>
  <!-- restaurant portal -->
<div id="restaurants" class="hidden">
  {{> restaurantCreateDeal}}
</div>

<div id="infoSettings">
{{> selectsettings}}
</div>
 <!-- settings -->
 
  <div id="settings" class="hidden">
    {{> settings}} 
  </div>

{{else}}
    {{> loginButtons}}
{{/if}}

<br>
<span id="credits">Kitchen Pack graphic by <a href="http://www.freepik.com/">Freepik</a> from <a href="http://www.flaticon.com/">Flaticon</a><br>is licensed under <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0">CC BY 3.0</a>. Made with <a href="http://logomakr.com" title="Logo Maker">Logo Maker</a></span>
<br><br>
</div>


<!-- <script src="js/jquery-1.12.0.min.js" type="text/javascript"></script> -->
<!-- <script src="js/bootstrap.min.js" type="text/javascript"></script> -->
</body>


<template name="viewMyReservations">
  <div class="myReservations hidden">
    <button type="button" class="btn btn-primary">Claimed Deals</button>
  </div>
</template>

<template name="viewTakenDeals">
  <div class="takenDeals hidden">
    <button type="button" class="btn btn-success">Claimed Deals</button>
  </div>
</template>

<template name="adviewTakenDeals">
  <div class="adtakenDeals">
    <button type="button" class="btn btn-success">Claimed Deals</button>
  </div>
</template>

<template name="postdeal">
  <div class="restaurants hidden">
    <button type="button" class="btn btn-info">Post a Deal</button>
  </div><br>
</template>

<template name="signUp">
  <h4>Almost done! We just need a little more information about you.</h4>
    
      <form class="new-user">
      <fieldset class="form-group">
        <label class="radio-inline">
          <input type="radio" name="userType" value="customer"> I am a diner
        </label>
        <label class="radio-inline">
          <input type="radio" name="userType" value="restaurant"> I represent a restaurant
        </label>
      </fieldset>
        <button type="submit" class="btn btn-primary">Continue</button>
      </form>
</template>

<template name="signUpRestaurant">
{{#each newrestaurants}}
      <form class="new-restaurant">
      <fieldset class="form-group">
        <label for="name">Restaurant Name</label>
        <input type="text" class="form-control" id="name">
      </fieldset>
       <fieldset class="form-group">
        <label for="phone">Phone Number</label>
        <input type="tel" class="form-control" id="phone">
      </fieldset>
      <fieldset class="form-group">
        <label for="email">Email</label>
        <input type="email" class="form-control" id="email">
        <small class="text-muted">We'll never share your email with anyone else.</small>
      </fieldset>
      <fieldset class="form-group">
        <label for="zip">Zip Code</label>
        <input type="zip" class="form-control" id="zip">
      </fieldset>
      <fieldset class="form-group">
        <label for="website">Website</label>
        <input type="url" class="form-control" id="website">
      </fieldset>
      <fieldset class="form-group">
        <label for="yelp">Link to Yelp page</label>
        <input type="url" class="form-control" id="yelp">
      </fieldset>
      <button type="submit" class="btn btn-primary">Submit</button>
    </form>
    {{/each}}
</template>

<template name="signUpDiner">
  {{#each newdiners}}
      <form class="new-diner">
      <div class="text-left">
      <label>  User Details</label>
      </div>
      <fieldset class="form-group">
        <input type="text" class="form-control" id="name" placeholder="Preferred Name">
      </fieldset>
       <fieldset class="form-group">
        <input type="tel" class="form-control" id="phone" placeholder="Phone Number">
      </fieldset>
      <fieldset class="form-group">
        <input type="email" class="form-control" id="email" placeholder="Email Address">
      </fieldset>
      <fieldset class="form-group">
        <textarea class="form-control" id="allergies" rows="3" placeholder="Please enter any dietary restrictions."></textarea>
      </fieldset>
      <!-- billing information -->
      <div class="text-left">
      <label> Billing Information</label>
      </div>
      <div class="row">
        <div class="col-sm-6">
          <fieldset class="form-group">
            <input type="text" class="form-control" id="fname" placeholder="First Name">
          </fieldset>
        </div>
        <div class="col-sm-6">
          <fieldset class="form-group">
            <input type="text" class="form-control" id="lname" placeholder="Last Name">
          </fieldset>
        </div>
      </div>
      <fieldset class="form-group">
        <input type="text" class="form-control" id="street" placeholder="Street Address">
      </fieldset>
      <fieldset class="form-group">
        <input type="text" class="form-control" id="city" placeholder="City">
      </fieldset>
      <div class="row">
        <div class="col-sm-8">
          <fieldset class="form-group">
            <input type="text" class="form-control" id="state" placeholder="State">
          </fieldset>
        </div>
        <div class="col-sm-4">
          <fieldset class="form-group">
            <input type="zip" class="form-control" id="zip" placeholder="Zip Code">
          </fieldset>
        </div>
      </div>

      <div class="row">
        <div class="col-sm-9">
          <fieldset class="form-group">
            <input type="text" class="form-control" id="ccnum" placeholder="Debit/Credit Card Number">
          </fieldset>
        </div>
        <div class="col-sm-3">
          <fieldset class="form-group">
            <input type="text" class="form-control" id="cvv" placeholder="CVV">
          </fieldset>
        </div>
      </div>
      <fieldset class="form-group">
      <div class="row gray">
        <p class="col-sm-4 gray">Expiration Date</p>
       
            <div class="col-sm-4 gray">
              <select class="form-control col-sm-2 gray" name="expiry-month" id="expiry-month">
              <option value="" disabled selected>Month</option>
                <option value="01">01</option>
                <option value="02">02</option>
                <option value="03">03</option>
                <option value="04">04</option>
                <option value="05">05</option>
                <option value="06">06</option>
                <option value="07">07</option>
                <option value="08">08</option>
                <option value="09">09</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
              </select>
            </div>
            <div class="col-sm-4 gray">
              <select class="form-control gray" name="expiry-year">
              <option value="" disabled selected>Year</option>
                <option value="16">2016</option>
                <option value="17">2017</option>
                <option value="18">2018</option>
                <option value="19">2019</option>
                <option value="20">2020</option>
                <option value="21">2021</option>
                <option value="22">2022</option>
                <option value="23">2023</option>
              </select>
            </div>
          </div>
        

      </fieldset>
      <button type="submit" class="btn btn-primary">Submit</button>
    </form>
  {{/each}}
</template>

<template name="deal">
   <li>{{text}}</li>
</template>

<template name="dealDetail">
  <p>View deal details here.</p>
</template>

<template name="selectsettings">
  
    {{> loginButtons}} <button type="button" class="btn btn-link btn-sm settings">Settings</button>

</template>

<template name="settings">

  
  <div class="settingsName">
  
    Name:
    {{#each customers}}
      <span id="settingvar">{{name}}</span>
    {{/each}}

    <button type="button" class="btn btn-link btn-sm">Edit</button>

  </div>

  <div class="changeName hidden">
  {{#each customers}}
    <form class="change-name">
      <fieldset class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control" id="name">
      </fieldset>
      <button type="submit" class="btn btn-primary btn-xs">Change Name</button>
    </form> 
    {{/each}}
  </div>
  
  <div class="settingsPhone">
    Phone number:
    {{#each customers}}
      <span id="settingvar">{{phone}}</span>
    {{/each}}
    <button type="button" class="btn btn-link btn-sm">Edit</button>
  </div>

  <div class="changePhone hidden">
  {{#each customers}}
    <form class="change-phone">
      <fieldset class="form-group">
        <label for="phone">Phone</label>
        <input type="number" class="form-control" id="phone">
      </fieldset>
      <button type="submit" class="btn btn-primary btn-xs">Change Phone</button>
    </form> 
    {{/each}}
  </div>

  <div class="settingsEmail">
    Email:
    {{#each customers}}
      <span id="settingvar">{{email}}</span>
    {{/each}}
    <button type="button" class="btn btn-link btn-sm">Edit</button>
  </div>
  <div class="changeEmail hidden">
  {{#each customers}}
    <form class="change-email">
      <fieldset class="form-group">
        <label for="email">Email</label>
        <input type="text" class="form-control" id="email">
      </fieldset>
      <button type="submit" class="btn btn-primary btn-xs">Change Email</button>
    </form> 
  {{/each}}
  </div>

  <div class="settingsAllergies">
    Dietary Restrictions:
    {{#each customers}}
      <span id="settingvar">{{allergies}}</span>
    {{/each}}
    <button type="button" class="btn btn-link btn-sm">Edit</button>
  </div>
  <div class="changeAllergies hidden">
  {{#each customers}}
    <form class="change-allergies">
      <fieldset class="form-group">
        <label for="allergies">Dietary Restrictions</label>
        <input type="text" class="form-control" id="allergies">
      </fieldset>
      <button type="submit" class="btn btn-primary btn-xs">Change Dietary Restrictions</button>
    </form> 
  {{/each}}
  </div>

  <div class="settingsZip">
    Zip Code:
    {{#each customers}}
      <span id="settingvar">{{zip}}</span>
    {{/each}}
    <button type="button" class="btn btn-link btn-sm">Edit</button>
  </div>
    <div class="changeZip hidden">
    {{#each customers}}
    <form class="change-zip">
      <fieldset class="form-group">
        <label for="zip">Zip Code</label>
        <input type="text" class="form-control" id="zip">
      </fieldset>
      <button type="submit" class="btn btn-primary btn-xs">Change Zip Code</button>
    </form> 
    {{/each}}
  </div>
</template>


<template name="myReservations">
{{#each deals}}
  <div id="restaurantname"><strong>{{restaurantname}}</strong></div>
  <strong>Percent off:</strong> {{discount}}%
  <br>
  <strong>Time:</strong> {{time}}
  <br>
  <strong>Party size:</strong> {{partysize}} 
  <br><br>

{{/each}}
</template>

<template name="takenDeals">
<h4>Today's Deals</h4>
  {{#each deals}}
    <strong>{{time}}</strong>
    <br><br>
    <strong>Percent off:</strong> {{discount}}%
    <br><br>
    <strong>Party size:</strong> {{partysize}} 
    <br><br>
    <strong>Number sold:</strong> {{tablessold}}
    <br><br>
    <strong>Number remaining:</strong> {{tablesleft}}
    <br><br>
    <strong>Customers:</strong> {{claimants}}
    <br><br><br>
  {{/each}}

</template>

<template name="adtakenDeals">
<h4>Today's Deals</h4>
  {{#each deals}}
    <strong>{{time}}</strong>
    <br><br>
    <strong>Percent off:</strong> {{discount}}%
    <br><br>
    <strong>Party size:</strong> {{partysize}} 
    <br><br>
    <strong>Number sold:</strong> {{tablessold}}
    <br><br>
    <strong>Number remaining:</strong> {{tablesleft}}
    <br><br>
    <strong>Customers:</strong> {{claimants}}
    <br><br><br>
  {{/each}}

</template>

<template name="restaurantLogin">
  <p>Restaurant login page.</p>
</template>

<template name="restaurantCreateDeal">
  <h3>Post a Deal</h3>
  <div id="creatingDeal">
  {{#each customers}}
  <form class="post-deal">
  
      <fieldset class="form-group">
        <label for="party-size">Party Size</label>
        <input type="text" class="form-control" id="partysize">
      </fieldset>
       <fieldset class="form-group">
        <label for="discount">% Off</label>
        <input type="text" class="form-control" id="discount">
      </fieldset>
      <fieldset class="form-group">
        <label for="time">Time</label>
        <input type="time" class="form-control" id="time">
      </fieldset>
      <fieldset class="form-group">
        <label for="tables">Number of Tables</label>
        <input type="text" class="form-control" id="tables">
      </fieldset>
      
      <button type="submit" class="btn btn-primary">Submit</button>

    </form>
    {{/each}}

    </div>

</template>

<template name="dealsList">
  <div class="allDeals hidden">
      {{#each deals}}
        {{#if dealsAvailable _id}}
          <div id="restaurantname"><strong>{{restaurantname}}</strong></div>
          <strong>Percent off:</strong> {{discount}}%
          <br><strong>Tables left at this price:</strong> {{tables}}
          <br><strong>Time:</strong> {{time}}
          <br><strong>Party size:</strong> {{partysize}} 
          <div class="dealButton">
            <button type="button" class="btn btn-warning btn-sm">Claim this Deal</button>
            </div>
          <br><br>
        <!-- {{else}}
          <strong>No deals available right now :(</strong> -->
        {{/if}}
      {{/each}}
    </div>
</template>

